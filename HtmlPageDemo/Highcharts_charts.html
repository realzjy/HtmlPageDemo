<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript" src="js/jquery-1.10.2.js" ></script>
		<script type="text/javascript" src="js/highcharts.js" ></script>
		<script type="text/javascript" src="js/exporting.js" ></script>
		<script type="text/javascript" src="js/regression.min.js" ></script>
	</head>
	<body>
		<div id="container"></div>
		<script>
//			function GetRegression(list) {
//				var regressionList = new Array();
//				var result = new Array();
//				regressionList = regression('linear', list);
//				for(var i=0;i < regressionList.points.length ;i++){
//					 result[i] = Math.round(regressionList.points[i][1]);
//				}
//				return result;
//			}
			function GetRegression(list) {
				var regressionList = new Array();
				for(var i=0;i < list.length ;i++){
					 regressionList[i] = [i+1,list[i]];
				}
				var regressionResult = new Array();
				var result = new Array();
				regressionResult = regression('linear', regressionList);
				for(var i=0;i < regressionResult.points.length ;i++){
					 result[i] = Math.round(regressionResult.points[i][1]);
				}
				return result;
			}
			
		
			Highcharts.chart('container', {
			    title: {
			        text: 'Solar Employment Growth by Sector, 2010-2016'
			    },
			
			    subtitle: {
			        text: 'Source: thesolarfoundation.com'
			    },
			
			    yAxis: {
			        title: {
			            text: 'Number of Employees'
			        }
			    },
			    legend: {
			        layout: 'vertical',
			        align: 'right',
			        verticalAlign: 'middle'
			    },
			
			    plotOptions: {
			        series: {
			            pointStart: 2010
			        }
			    },
			
			    series: [
//			    {
//			        name: 'Installation',
//			        data: [43934, 52503, 57177, 69658, 97031, 119931, 137133, 154175]
//			    }, 
			    {
			        name: 'Manufacturing',
			        //data: [24916, 24064, 29742, 29851, 32490, 30282, 38121, 40434]
			        data:[10.94,11.07,11.05,9,9.21,10.84,8.96]
			    }, {
			        name: 'Sales & Distribution',
			        //data: GetRegression([24916, 24064, 29742, 29851, 32490, 30282, 38121, 40434]
			        data: GetRegression([10.94,11.07,11.05,9,9.21,10.84,8.96]
//			        	[[1,24916], [2,24064], [3,29742], [4,29851], [5,32490], 
//			        		[6,30282], [7,38121], [8,40434]]
		        	),
			    	color: '#000000',
					lineWidth: 1   ,
					dashStyle: 'LongDashDot',
					marker: {
							fillColor: '#000000',//点填充色
		                    lineColor: '#000000',//点边框色
		                    enabled: true,
		                    symbol: 'circle',//曲线点类型："circle", "square", "diamond", "triangle","triangle-down"，默认是"circle"
		                    radius: 2 //曲线点半径，默认是4
		                },
					dataLabels: {
		                    enabled: false
		                }
			    }]
			});
		</script>
	</body>
</html>
